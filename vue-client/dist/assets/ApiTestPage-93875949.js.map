{"version":3,"file":"ApiTestPage-93875949.js","sources":["../../src/composables/useTestApi.js","../../src/pages/ApiTestPage.vue"],"sourcesContent":["import axios from 'axios'\n\n/**\n * Test API composable for debugging\n */\nexport function useTestApi() {\n  const api = axios.create({\n    baseURL: import.meta.env.VITE_API_BASE_URL || 'http://localhost:8080',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n\n  return {\n    // Test if API is reachable\n    testApiHealth: () => api.get('/health'),\n    \n    // Test login with specific parameters\n    testLogin: (username, password) => api.post('/api/v1/user/login', null, { \n      params: { name: username, password: password }\n    }),\n    \n    // Test room type list\n    testRoomTypeList: () => api.get('/api/v1/room/roomTypeList'),\n    \n    // Test rooms by type\n    testRoomsByType: (roomTypeId) => api.get(`/api/v1/room/${roomTypeId}/list`),\n    \n    // Test simple GET request\n    testSimpleGet: () => api.get('/api/v1/room/list'),\n    \n    // Test with manual URL construction\n    testLoginManual: (username, password) => {\n      const url = `/api/v1/user/login?name=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`\n      return api.post(url)\n    }\n  }\n}","<template>\n  <div class=\"container mt-5\">\n    <h2>API Test Page</h2>\n    \n    <div class=\"card mb-4\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Test API Health</h5>\n        <button @click=\"testHealth\" class=\"btn btn-primary\" :disabled=\"loading\">\n          Test Health Check\n        </button>\n        <div v-if=\"healthResult\" class=\"mt-3 alert alert-success\">\n          {{ healthResult }}\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card mb-4\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Test Login</h5>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Username</label>\n          <input v-model=\"testUsername\" type=\"text\" class=\"form-control\" placeholder=\"testuser\">\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Password</label>\n          <input v-model=\"testPassword\" type=\"password\" class=\"form-control\" placeholder=\"password\">\n        </div>\n        <button @click=\"testLoginHandler\" class=\"btn btn-primary\" :disabled=\"loading\">\n          Test Login\n        </button>\n        <div v-if=\"loginResult\" class=\"mt-3 alert alert-success\">\n          {{ loginResult }}\n        </div>\n        <div v-if=\"loginError\" class=\"mt-3 alert alert-danger\">\n          {{ loginError }}\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Test Room Type List</h5>\n        <button @click=\"testRoomTypes\" class=\"btn btn-primary\" :disabled=\"loading\">\n          Get Room Types\n        </button>\n        <div v-if=\"roomTypesResult\" class=\"mt-3 alert alert-success\">\n          {{ roomTypesResult }}\n        </div>\n        <div v-if=\"roomTypesError\" class=\"mt-3 alert alert-danger\">\n          {{ roomTypesError }}\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Test Rooms by Type</h5>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Room Type ID</label>\n          <input v-model=\"testRoomTypeId\" type=\"number\" class=\"form-control\" placeholder=\"1\">\n        </div>\n        <button @click=\"testRoomsByType\" class=\"btn btn-primary\" :disabled=\"loading\">\n          Get Rooms by Type\n        </button>\n        <div v-if=\"roomsByTypeResult\" class=\"mt-3 alert alert-success\">\n          {{ roomsByTypeResult }}\n        </div>\n        <div v-if=\"roomsByTypeError\" class=\"mt-3 alert alert-danger\">\n          {{ roomsByTypeError }}\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Test Room List</h5>\n        <button @click=\"testRooms\" class=\"btn btn-primary\" :disabled=\"loading\">\n          Get All Rooms\n        </button>\n        <div v-if=\"roomsResult\" class=\"mt-3 alert alert-success\">\n          {{ roomsResult }}\n        </div>\n        <div v-if=\"roomsError\" class=\"mt-3 alert alert-danger\">\n          {{ roomsError }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useTestApi } from '@/composables/useTestApi'\n\nconst { testApiHealth, testLogin, testSimpleGet, testLoginManual } = useTestApi()\n\nconst loading = ref(false)\nconst healthResult = ref('')\nconst loginResult = ref('')\nconst loginError = ref('')\nconst roomTypesResult = ref('')\nconst roomTypesError = ref('')\nconst roomsByTypeResult = ref('')\nconst roomsByTypeError = ref('')\nconst roomsResult = ref('')\nconst roomsError = ref('')\nconst testUsername = ref('testuser')\nconst testPassword = ref('password')\nconst testRoomTypeId = ref('1')\n\nconst testHealth = async () => {\n  try {\n    loading.value = true\n    const response = await testApiHealth()\n    healthResult.value = JSON.stringify(response.data, null, 2)\n  } catch (err) {\n    healthResult.value = 'Error: ' + (err.response?.data?.message || err.message)\n  } finally {\n    loading.value = false\n  }\n}\n\nconst testLoginHandler = async () => {\n  try {\n    loading.value = true\n    loginError.value = ''\n    \n    const response = await testLogin(testUsername.value, testPassword.value)\n    loginResult.value = JSON.stringify(response.data, null, 2)\n    \n  } catch (err) {\n    console.error('Login test error:', err)\n    loginError.value = 'Error: ' + (err.response?.data?.message || err.message)\n    if (err.response) {\n      loginError.value += '\\nResponse: ' + JSON.stringify(err.response.data)\n    }\n  } finally {\n    loading.value = false\n  }\n}\n\nconst testRoomTypes = async () => {\n  try {\n    loading.value = true\n    roomTypesError.value = ''\n    \n    const response = await testRoomTypeList()\n    roomTypesResult.value = JSON.stringify(response.data, null, 2)\n    \n  } catch (err) {\n    roomTypesError.value = 'Error: ' + (err.response?.data?.message || err.message)\n  } finally {\n    loading.value = false\n  }\n}\n\nconst testRoomsByType = async () => {\n  try {\n    loading.value = true\n    roomsByTypeError.value = ''\n    \n    const response = await testRoomsByType(testRoomTypeId.value)\n    roomsByTypeResult.value = JSON.stringify(response.data, null, 2)\n    \n  } catch (err) {\n    roomsByTypeError.value = 'Error: ' + (err.response?.data?.message || err.message)\n  } finally {\n    loading.value = false\n  }\n}\n\nconst testRooms = async () => {\n  try {\n    loading.value = true\n    roomsError.value = ''\n    \n    const response = await testSimpleGet()\n    roomsResult.value = JSON.stringify(response.data, null, 2)\n    \n  } catch (err) {\n    roomsError.value = 'Error: ' + (err.response?.data?.message || err.message)\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.alert {\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: 0.9em;\n}\n</style>"],"names":["useTestApi","api","axios","username","password","roomTypeId","url","testApiHealth","testLogin","testSimpleGet","testLoginManual","loading","ref","healthResult","loginResult","loginError","roomTypesResult","roomTypesError","roomsByTypeResult","roomsByTypeError","roomsResult","roomsError","testUsername","testPassword","testRoomTypeId","testHealth","response","err","_b","_a","testLoginHandler","testRoomTypes","testRoomsByType","testRooms","_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","$event","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28"],"mappings":"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"}