import{a as r}from"./axios-78d57de0.js";function i(){const s="http://localhost:8080";console.log("API Base URL:",s);const o=r.create({baseURL:s,headers:{"Content-Type":"application/json"}});return o.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),o.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)}),{login:e=>o.post("/api/v1/user/login",null,{params:e}),register:e=>o.post("/api/v1/user/register",null,{params:e}),getRoomTypeList:()=>o.get("/api/v1/room/roomTypeList"),getRoomsByType:e=>o.get(`/api/v1/room/${e}/list`),getAllRooms:()=>o.get("/api/v1/room/list"),joinRoom:e=>o.post(`/api/v1/room/${e}/join`),leaveRoom:e=>o.post(`/api/v1/room/${e}/leave`),createRoom:(e,t)=>o.post(`/api/v1/room/create/${e}/${t}`),gameAction:(e,t,a)=>o.post(`/api/v1/game/${e}/actions`,a,{params:{cmd:t}}),getUserProfile:e=>o.get(`/api/v1/user/info/${e}`),updateProfile:e=>o.put("/api/v1/user/profile",null,{params:{...e}}),getMessages:()=>o.get("/api/v1/user/messages"),sendMessage:e=>o.post("/api/v1/user/messages",e),get:e=>o.get(e),post:(e,t)=>o.post(e,t),put:(e,t)=>o.put(e,t),delete:e=>o.delete(e)}}export{i as u};
//# sourceMappingURL=useApi-0fdb8b38.js.map
